 <!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<h1>Chapters</h1>

<ul id="chapters">
</ul>

</body>
<script>
  function get() {
    return new Promise((resolve, reject) => {
      const xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange = () => {
        if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
          resolve(xmlHttp.responseText);
        } else if (xmlHttp.readyState === 4 && xmlHttp.status !== 200) {
          reject(xmlHttp.status);
        }
      }
      xmlHttp.open('GET', '/api/serie/one-piece', true);
      xmlHttp.send(null);
    });
  }

  get().then((chapters) => {
    console.log(JSON.parse(chapters)[0]);
    JSON.parse(chapters).forEach(chapter => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      const linkText = document.createTextNode(
        String(chapter.number) + " - " + chapter.name
      );
      a.href = '/api/serie/one-piece/chapter/' + chapter.number + '/page/1';
      a.title = String(chapter.number) + " - " + chapter.name;

      a.appendChild(linkText);
      li.appendChild(a);
      document.getElementById('chapters').appendChild(li);
    })
  }).catch(console.log);
</script>
</html> 
