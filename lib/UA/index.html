 <!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<h1>Series</h1>

<ul id="series">
</ul>

</body>
<script>
  function get() {
    return new Promise((resolve, reject) => {
      const xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange = () => {
        if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
          resolve(xmlHttp.responseText);
        } else if (xmlHttp.readyState === 4 && xmlHttp.status !== 200) {
          reject(xmlHttp.status);
        }
      }
      xmlHttp.open('GET', '/api/series', true);
      xmlHttp.send(null);
    });
  }

  get().then((series) => {
    console.log(JSON.parse(series));
    JSON.parse(series).forEach(serie => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      const linkText = document.createTextNode(serie);
      a.href = "/" + serie.replace(/\s+/g, '-').toLowerCase() + "-chapters.html";
      a.title = serie;

      a.appendChild(linkText);
      li.appendChild(a);
      document.getElementById('series').appendChild(li);
    })
  }).catch(console.log);
</script>
</html> 
